set mbox_type = Maildir
set spoolfile = ~/Mail/
set folder = ~/Mail/
set record = =.sent-mail
set postponed = =.drafts

set mail_check = 60
set timeout = 30

set smtp_url = smtp://smtp.corp.redhat.com/
set realname = "Lars Kellogg-Stedman"
set from = "lars@redhat.com"
set use_envelope_from = yes

set record = =sent-messages
set confirmappend = no

source ~/.mutt/colors

set signature = ~/.signature

set header_cache = ~/.mutt/cache/headers
set message_cachedir = ~/.mutt/cache/messages

set query_command = "$HOME/.mutt/mutt-query-command '%s'"
bind editor <tab> "complete-query"

macro index,pager A "<pipe-message>abook --add-email<return>"
macro index,pager \cb "<pipe-entry>urlview<enter>"

set editor="gvim -f"

##
## HEADERS
##

ignore *
unignore from date to cc subject
unignore message-id
unignore list-id

##
## NOTMUCH CONFIGURATION
##

set nm_default_uri = "notmuch:///home/lkellogg/Mail"
virtual-mailboxes \
	"INBOX" "notmuch://?query=tag:inbox" \
	"Important" "notmuch://?query=tag:flagged" \
	"Cloud" "notmuch://?query=tag:redhat AND tag:cloud AND NOT tag:archive" \
	"Unread recent lists" "notmuch://?query=tag:unread AND tag:list AND NOT tag:archive&limit=500" \
	"Unread latent lists" "notmuch://?query=tag:unread AND tag:list AND tag:latent AND NOT tag:archive&limit=500"

macro index A "<modify-labels-then-hide>+archive -inbox\n<sync-mailbox>"
set virtual_spoolfile = yes

tag-transforms "inbox" "i" \
		"unread" "u" \
		"replied" "↻ " \
		"sent" "➥ " \
		"todo" "T" \
		"deleted" "DEL"

set nm_record = yes
set nm_record_tags = "-inbox sent"

